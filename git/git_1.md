# Git的前世今生
## 版本控制系统
在介绍Git之前，首先要理解什么是版本控制系统？
> 百度百科：版本控制系统（version control system）,是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。版本控制系统不仅可以应用于软件源代码的文本文件，而且可以对任何类型的文件进行版本控制。用的比较多的如svn，git等。

当我们有一大堆文件需要处理时，每隔一段时间会产生一个版本，但是我们需要保存以前的版本，防止当前的版本出问题时，需要回退到以前的版本，这时候就需要版本控制。当然，最简单的办法，我们也可以手动地在本地进行版本控制，每次变动时，记录是第几个版本，回退是只需要替换最新的版本即可。

> hellogit_v1.md
>
> hellogit_v2.md
>
> hellogit_v3.md

这种最简单的版本控制系统，只不过是我们手动来实现的，那么，一个版本控制系统（VSC）需要具有哪些功能呢？

- 需要记录每个文件的版本
- 能够方便地回退到以前的版本
- 能够清晰地看到多个版本之间的差异

再来说刚才的本地版本控制，当文件量比较少的时候，这种方法没有任何问题，但是当我们面对成千上万的文件时，这时候就没办法用这种简单的版本了，所以我们需要一套系统，用来做版本控制。

## 版本控制系统的演进历史

#### 本地版本控制系统

最早的版本控制系统，比较知名的有`RCS`，就是在本地记录文件每次修改的历史，维护一系列的`path`，每个patch就是两个文件版本之间的修改。然后如果你要回到某个历史版本上，RCS会通过path的应用来恢复任何一个时间点的文件。

本地版本控制系统在上世纪80年代比较流行，那时候的程序员只需要管理自己的代码版本就可以，不需要和别人进行合作。

如果需要和别人进行协作，来完成某个系统的开发，就不能使用本地版本控制系统了。

#### 集中式版本控制系统

开发人员不光需要进行版本控制，还需要和别人进行协作，多个人一起完成一个系统。每个人都需要对代码进行修改，每个人都会迭代出新的版本的代码。

这时候需要集中式的版本控制系统，代码存储在服务器上，开发人员需要连接服务器把代码检出到本地，修改后再提交到服务器上。

比较知名的有`cvs`和`svn`，在很长一段时间内，集中式版本控制系统是版本控制系统的标准。

集中式版本控制系统最大的问题，在于单点故障，如果服务器发生故障不可用时，这段时间内，开发人员不能从服务器检出最新的代码，也不能把代码上传到服务器上。如果服务器的磁盘坏了，代码如果没有备份，所有的代码就会丢失。

#### 分布式版本控制系统

分布式版本控制系统解决了集中式版本控制系统的问题，开发人员进行开发时，会从服务器上下载所有的代码和版本信息，开发人员在本地完成所有的工作后，例如版本的控制，代码的修改等，再提交到版本控制系统。如果此时服务器发生故障，不会影响开发人员，也不会丢失代码，有可能会丢失一部分最新的版本。

## Git的前世今生

`Linux`的创始人`linus`，最早就是用原始的方式管理`linux`源码，开源贡献者通过diff工具把修改后的源码发给`linus`，然后`linus`手工合并所有代码，自己解决冲突。当时`linus`始终非常反对使用`CVS`、`SVN`等版本控制系统，`linus`觉得集中式版本控制系统每次开发需要联网，特别麻烦。

但是到了2002年，代码过于庞大，在社区的巨大压力之下，`linus`选择了商业的版本控制系统`BitKeeper`，拿到了免费的使用授权。结果不幸的是，2005年的时候，`Linux`社区有人尝试破解`BitKeeper`，结果被`BitKeeper`公司发现了，愤怒收回了对`Linux`社区的免费使用授权。 

接着`linus`就用2周的时间自己写了一个分布式的版本控制系统，然后`Linux`的几百万行代码就开始使用`Git`进行版本控制了。一直发展到今天，`Git`成为了最流行的版本控制系统。直到今天，大部分互联网公司都使用`Git`进行版本控制。

这就是`Git`的前世今生。